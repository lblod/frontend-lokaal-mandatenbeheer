{{page-title "Meldingen"}}

<AuToolbar @size="large" as |Group|>
  <Group>
    <AuHeading @skin="2">Systeem meldingen</AuHeading>
  </Group>
</AuToolbar>

<div class="au-u-margin-bottom au-u-padding-left au-u-padding-right">
  <AuTabs as |Tab|>
    <Tab>
      <AuLink
        class={{this.activeTabClass 1}}
        @route="system-notifications"
        @query={{this.filterUnRead}}
      >
        Ongelezen
      </AuLink>
    </Tab>
    <Tab>
      <AuLink
        class={{this.activeTabClass 2}}
        @route="system-notifications"
        @query={{this.filterRead}}
      >
        Gelezen
      </AuLink>
    </Tab>
    <Tab>
      <AuLink
        class={{this.activeTabClass 3}}
        @route="system-notifications"
        @query={{this.filterArchived}}
      >Gearchiveerd
      </AuLink>
    </Tab>
  </AuTabs>
</div>

<div class="au-u-padding-left au-u-padding-right">
  <AuDataTable
    @content={{@model.notifications}}
    @sort={{this.sort}}
    @page={{this.page}}
    @noDataMessage="Geen systeem meldingen gevonden."
    as |t|
  >
    <t.content as |c|>
      <c.header>
        <AuDataTableThSortable
          @field="subject"
          @label="Onderwerp"
          class="no-sorting"
        />
        <AuDataTableThSortable
          @field="message"
          @label="Bericht"
          class="no-sorting"
        />
        <AuDataTableThSortable
          @field="created-at"
          @currentSorting={{this.sort}}
          @label="Aangemaakt op"
        />
        <th>{{! Actions dropdown }}</th>
      </c.header>
      <c.body as |notification|>
        <SystemNotificationRow @notification={{notification}} />
      </c.body>
    </t.content>
  </AuDataTable>
</div>