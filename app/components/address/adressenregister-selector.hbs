<div ...attributes>
  <div class={{if @hasErrors "ember-power-select--error"}}>
    <AuLabel for="address">Adres</AuLabel>
    <PowerSelect
      @triggerId="address"
      @allowClear={{not @isRequired}}
      @disabled={{this.disabled}}
      @search={{perform this.search}}
      @selected={{this.addressSuggestion}}
      @onChange={{perform this.selectSuggestion}}
      @loadingMessage="Aan het laden..."
      @searchEnabled={{true}}
      @noMatchesMessage="Geen resultaten"
      @searchMessage="Typ om te zoeken"
      @onClose={{this.onClose}}
      as |suggestion|
    >
      {{suggestion.fullAddress}}
    </PowerSelect>
    {{#each @errors as |error|}}
      <AuHelpText @error={{true}}>{{error.resultMessage}}</AuHelpText>
    {{/each}}
  </div>
  <div class="au-u-margin-top">
    <AuLabel for="busnumber">Busnummer</AuLabel>

    <Address::AdressenregisterBusnumberSelector
      @address={{this.addressWithBusnumber}}
      @options={{this.addressesWithBusnumbers}}
      @onChange={{this.selectAddressWithBusnumber}}
      @disabled={{this.isDisabledBusnumberSelect}}
      @allowClear={{false}}
    />
    <AuHelpText>
      Staat het correcte busnummer niet in de lijst?
      <a href="mailto:LoketLokaalBestuur@vlaanderen.be" class="au-c-link">
        Mail ons
      </a>
    </AuHelpText>
  </div>
</div>