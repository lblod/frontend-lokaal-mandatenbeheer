<AuDataTable
  @content={{@content}}
  @isLoading={{@isLoading}}
  @noDataMessage="Geen mandatarissen gevonden"
  @sort={{@sort}}
  @page={{@page}}
  @size={{@size}}
  as |t|
>
  <t.content as |c|>
    <c.header>
      <th>Orgaan</th>
      <AuDataTableThSortable
        @field="isBestuurlijkeAliasVan.gebruikteVoornaam"
        @currentSorting={{@sort}}
        @label="Naam"
      />
      <AuDataTableThSortable
        @field="isBestuurlijkeAliasVan.achternaam"
        @currentSorting={{@sort}}
        @label="Familienaam"
      />
      <AuDataTableThSortable
        @field="heeftLidmaatschap.binnenFractie.naam"
        @currentSorting={{@sort}}
        @label="Fractie"
      />
      <AuDataTableThSortable
        @field="bekleedt.bestuursfunctie.label"
        @currentSorting={{@sort}}
        @label="Mandaat"
      />
      <AuDataTableThSortable
        @field="start"
        @currentSorting={{@sort}}
        @label="Start mandaat"
      />
      <AuDataTableThSortable
        @field="einde"
        @currentSorting={{@sort}}
        @label="Einde mandaat"
      />
      <th></th>
    </c.header>

    <c.body as |row|>
      <td>
        {{#each
          (get @mandatarisBestuursorganen row.id)
          as |bestuursorgaan index|
        }}
          {{#if (gt index 0)}}<br />{{/if}}
          {{bestuursorgaan.naam}}
        {{/each}}
      </td>
      <td>
        {{row.isBestuurlijkeAliasVan.gebruikteVoornaam}}
      </td>
      <td>
        {{row.isBestuurlijkeAliasVan.achternaam}}
      </td>
      <td>
        {{row.heeftLidmaatschap.binnenFractie.naam}}
      </td>
      <td>
        {{row.bekleedt.bestuursfunctie.label}}
      </td>
      <td>
        {{moment-format row.start "DD-MM-YYYY"}}</td>
      <td>
        {{moment-format row.einde "DD-MM-YYYY"}}</td>
      <td><LinkTo
          @route={{@editRoute}}
          @model={{row.isBestuurlijkeAliasVan.id}}
          class="au-c-link"
        > Bewerk </LinkTo></td>
    </c.body>
  </t.content>
</AuDataTable>