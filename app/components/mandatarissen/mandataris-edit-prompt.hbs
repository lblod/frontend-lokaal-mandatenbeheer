<div class="au-o-grid au-o-grid--small">
  <div class="au-o-grid__item au-u-1-3@medium">
    <AuContent @skin="small">
      <AuHeading @level="4" @skin="5">Wijziging huidige situatie</AuHeading>
      <p>Indien de mandataris wordt vervangen, of de huidige
        <strong>status, fractie, rangorde of bevoegdheid</strong>
        verandert:
      </p>
      <ul>
        <li>beÃ«indig dit mandaat door de einddatum in te vullen;</li>
        <li><strong>start een nieuw mandaat</strong>
          met de gewijzigde situatie.</li>
      </ul>
      <AuButton {{on "click" this.changeStatus}}>Verander status</AuButton>
    </AuContent>
  </div>
  <div class="au-o-grid__item au-u-1-3@medium">
    <AuContent @skin="small">
      <AuHeading @level="4" @skin="5">Correctie</AuHeading>
      <p>Indien een mandaat
        <strong>fouten</strong>
        bevat, en niet goed ingevoerd werd in het verleden,
        <strong>corrigeer</strong>
        de fouten.
      </p>
      <AuButton @skin="secondary" {{on "click" this.correct}}>Corrigeer fouten</AuButton>
    </AuContent>
  </div>
  <div class="au-o-grid__item au-u-1-3@medium">
    <AuContent @skin="small">
      <AuHeading @level="4" @skin="5">Bekrachtiging</AuHeading>
      {{#if @mandataris.isDraft}}
        <p>Bekrachtig het mandaat, waardoor het officieel wordt opgenomen in de
          Vlaamse Mandatendatabank.</p>
      {{/if}}
      <AuButton
        @skin="secondary"
        @disabled={{not @mandataris.isDraft}}
        {{on "click" this.bekrachtig}}
      >Bekrachtig
      </AuButton>
    </AuContent>
  </div>
</div>

<AuModal
  @title={{(concat
    "Verander Toestand " @mandataris.bekleedt.bestuursfunctie.label
  )}}
  @modalOpen={{this.isChanging}}
  @closable={{true}}
  @closeModal={{this.cancel}}
>
  <Mandatarissen::UpdateState
    @noTitle={{true}}
    @onCancel={{this.cancel}}
    @onStateChanged={{this.onUpdateState}}
    @mandataris={{@mandataris}}
  />
</AuModal>
<AuModal
  @title={{(concat
    "Corrigeer fouten " @mandataris.bekleedt.bestuursfunctie.label
  )}}
  @modalOpen={{this.isCorrecting}}
  @closable={{true}}
  @closeModal={{this.cancel}}
>
  <div class="au-o-box">
    <Form::Instance
      @instanceId={{@mandataris.id}}
      @form={{@mandatarisEditForm}}
      @onSave={{this.onSave}}
      @onCancel={{this.cancel}}
      @buildMetaTtl={{this.buildMetaTtl}}
    />
  </div>
</AuModal>
<AuModal
  @title={{(concat "Bekrachtig " @mandataris.bekleedt.bestuursfunctie.label)}}
  @modalOpen={{this.isBekrachtiging}}
  @closeModal={{this.cancel}}
  as |Modal|
>
  <Modal.Body>
    <p>
      Bent u zeker dat u het mandaat wil bekrachtigen? Deze actie is niet
      omkeerbaar.
    </p>
  </Modal.Body>
  <Modal.Footer>
    <AuToolbar as |Group|>
      <Group>
        <AuButtonGroup>
          <AuButton {{on "click" this.onBekrachtig}}>
            Bekrachtig
          </AuButton>
          <AuButton
            {{on "click" this.cancel}}
            @skin="secondary"
          >Annuleer</AuButton>
        </AuButtonGroup>
      </Group>
    </AuToolbar>
  </Modal.Footer>
</AuModal>